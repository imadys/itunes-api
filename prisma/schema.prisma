generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Podcast {
  id                     Int       @id @default(autoincrement())
  trackId                Int       @unique
  trackName              String
  artistName             String
  collectionName         String?
  trackViewUrl           String
  artworkUrl30           String?
  artworkUrl60           String?
  artworkUrl100          String?
  artworkUrl600          String?
  collectionPrice        Float?
  trackPrice             Float?
  releaseDate            DateTime?
  collectionExplicitness String?
  trackExplicitness      String?
  trackCount             Int?
  country                String
  currency               String?
  primaryGenreName       String?
  contentAdvisoryRating  String?
  feedUrl                String?
  genres                 String[]
  searchKeyword          String
  createdAt              DateTime  @default(now())
  updatedAt              DateTime  @updatedAt
  episodes               Episode[]

}

model Episode {
  id               Int       @id @default(autoincrement())
  trackId          Int?      @unique
  podcastId        Int
  title            String
  audioUrl         String?
  duration         String?
  pubDate          DateTime
  description      String?
  shortDescription String?
  episodeNumber    Int?
  episodeType      String?
  image            String?

  isFavorite       Boolean   @default(false)
  podcast          Podcast   @relation(fields: [podcastId], references: [id])

  createdAt        DateTime  @default(now())

  @@map("episodes")
}